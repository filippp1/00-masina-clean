<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Vašo a Mič</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:900">
        <link rel="stylesheet" href="./css/style.css">
    </head>

    <body>
        <header>
            <nav class="navbar">
                <ul class="nav-links">
                    <li><a href="index.html">Vote</a></li>
                    <li><a href="game.html">Game</a></li>
                </ul>
                <h2 id="score">Score: 0</h2>
            </nav>
        </header>
        <div id="difficultyWrapper">
            <div class="difficultyOption">
                <img id="startGame" src="./images/vasho.jpg" alt="vasho" onclick="startGame('Easy')">
                <span class="caption">Easy</span>
            </div>
            <div class="difficultyOption">
                <img id="startGame" src="./images/mitch.jpg" alt="vasho" onclick="startGame('Hard')">
                <span class="caption">Hard</span>
            </div>
        </div>
    </body>
    
	<script>
        let ttlScore = 0
        let speed = 2

        function startGame(difficulty){
            if(difficulty === "Hard"){
                speed = 1
            }else{
                speed = 2
            }
            document.getElementById("difficultyWrapper").style.display="none"
            createImage(speed)
        }

		function incrementScore(){
			document.getElementById("score").innerText = `Score : ${++ttlScore}`
			createImage(speed)
		}

		function createImage(speed) {
            const img = document.createElement('img')
            img.src = './images/vasho.jpg'
            img.className = 'game-img'

            img.style.left = Math.random() * (window.innerWidth - 100) + 'px'

            document.body.appendChild(img)

            img.style.animation = `fall ${speed}s linear`

            img.addEventListener('animationend', () => {
                img.remove();
                document.getElementById("difficultyWrapper").style.display=""
                alert("Game Over Your Score: "+ttlScore)
                document.getElementById("score").innerText = `Score : 0`
                ttlScore = 0
            })

            img.onclick = function() {
                incrementScore()
                img.remove()
            }

			img.onmousedown = function() {
                return false
            }
        }
	</script>
</html>
